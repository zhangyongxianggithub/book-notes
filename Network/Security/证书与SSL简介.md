# 关于数字证书
数字证书简称证书，是在internet上唯一的标识人员和资源的电子文件。证书使2个实体能够安全保密的通信。证书有个人证书/服务器证书（通过SSL技术在C/S之间建立安全会话）。证书是基于公钥加密的，公钥加密使用数字密钥对对信息加密或者编码，从而使信息只能被目标收件人读取。然后收件人对信息进行解码或者解密读取该信息。一份密钥对包含一个公钥与一个私钥。拥有者对公钥进行分发并使任何人都可以使用该公钥，不会分发私钥，私钥是保密的。通过数学算法，使用了密钥对的一个密钥进行的数据只能通过密钥对中的另一个密钥进行解密。证书就好像一本护照。它可以标识持有者并提供其他重要信息。证书由称为证书授权机构(Certification Authority, CA)的可信赖第三方发布。CA类似于护照申领办公室。它将验证证书持有者的身份并对证书进行签名，以使他人无法伪造或者篡改证书。CA对证书进行签名之后，持有者可以提供该证书作为身份证明并建立经过加密的保密通信。证书将拥有者的公钥绑定到拥有者的标识。与护照将照片绑定到其持有者的个人信息类似，证书将公钥绑定到有关拥有着的信息。除了公钥以外，证书还包括下面的信息:
- 持有者的姓名和其他标识，例如使用证书的Web服务器的URL或个人的电子邮件地址;
- 发布证书的CA的名称
- 失效日期
数字证书受X.509格式的技术规范约束。要检验certificate领域中某个用户的身份，验证服务将使用X.509证书的通用名称字段作为主体名称来检验X.509证书。
# 关于证书链
Web浏览器已预先配置了一组浏览器自动信任的根CA证书。来自其他证书授权机制的所有证书都必须附带证书链，以检验这些证书的有效性。证书链是由一系列CA证书发出的证书序列，最终以根CA证书结束。证书最初生成时是一个自签名证书。自签名证书是其签发者(签名者)与主题(其公钥由该证书进行验证的实体，也就是本人，也就是自己给自己发护照的意思)相同的证书。如果拥有者向CA发送证书签名请求(CSR)，然后输入响应，自签名证书将被证书链替换。链的底部是由CA发布的、用于验证主题的公钥的证书。链中的下一个证书是验证CA的公钥的证书。通常，这是一个自签名证书并且是链中的最后一个证书。
在其他情况下，CA可能会返回一个证书链。在此情况下，链的底部证书是相同的，由CA签发的证书，用于验证密钥条目的公钥，但是链中的第二个证书是由其他CA签发的证书，用于验证您相其发送了CSR的CA的公钥。然后，链中的下一个证书是用于验证第二个CA的密钥的证书，依此类推，直至到达自签名的根证书。因此，链中的每个证书都需要验证链中前一个证书的签名者的公钥。
# 关于安全套接字层
安全套接字层(Secure Socket Layer, SSL)是用来确保Internet通信和事务安全的最常见的标准。Web应用程序使用HTTPS(基于SSL的HTTP)，HTTPS使用数字证书来确保在服务器和客户机之间进行安全、保密的通信。在SSL连接中，客户机和服务器在发送数据之前都要对数据进行加密，然后由收件人对其进行解密。当Web浏览器需要与某个安全站点建立连接时，则会发生SSL握手:
- 浏览器将通过网络发送请求安全会话的消息(通常请求以https而非http开头的URL);
- 服务器通过发送其证书(包括公钥)进行响应;
- 浏览器将检验服务器的证书是否有效，并检验该证书是否是由其证书位于浏览器的数据库中的(并且是可信的)CA所签发的，它还将检验CA证书是否过期;
- 如果证书有效，浏览器将生成一个一次性的、唯一的会话密钥，并使用服务器的公钥对该会话密钥进行加密，然后浏览器将把加密的会话密钥发送给服务器，这样服务器和浏览器都有一份会话密钥;
- 服务器可以使用其专用密钥对消息进行解密，然后恢复会话密钥

握手之后，即表示客户机已检验了Web站点的身份，并且只有该客户机和web服务器拥有会话密钥副本，从现在开始，客户机和服务器可以使用该会话密钥对彼此间的所有通信进行加密。这样确保了客户机和服务器之间的通信安全。SSL标准的最新版本称为TLS(传输安全层)，Application Server支持安全套接字层(Secure Socket Layer, SSL)3.0和传输层安全性(transport layer security, TLS)1.0加密协议。要使用SSL，Application Server必须拥有接受安全连接的每个外部接口或者IP地址的证书。只有一安装了数字证书后，大多数Web服务器的HTTPS服务才能够运行，使用keytool实用程序生成数字证书。
# 关于加密器
加密器是用于加密或解密的加密算法。SSL/TLS协议支持用于服务器/客户机彼此进行验证、传输证书和建立会话密钥的各种加密器。某些加密器比其他加密器更强大且更安全。客户机和服务器可以支持不同的密码组，从SSL3/TLS协议中选择加密器。在安全连接期间，客户机/服务器统一在通信中使用它们均已启用的最强大的加密器，因此通常需要启用所有加密器。
# 使用基于名称的虚拟主机
对安全应用程序使用基于名称的虚拟主机可能会带来问题。这是SSL协议本身的设计限制。必须先进行SSL握手(客户机浏览器在这时接受服务器证书)，然后才能访问HTTP请求。这样，在验证之前就无法确定包含虚拟主机名的请求信息，因此也不能将多个证书指定给单个IP地址。如果单个 IP 地址上的所有虚拟主机都需要通过同一证书的验证，则添加多个虚拟主机将不会影响服务器上正常的 SSL 操作。但是请注意，大多数浏览器会将服务器的域名与证书中列出的域名（如果有的话，也主要适用于官方的 CA 签名证书）进行比较。如果域名不匹配，这些浏览器将显示警告。通常在生产环境中，只将基于地址的虚拟主机与 SSL 一起使用。